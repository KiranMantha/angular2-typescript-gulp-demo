{"version":3,"sources":["Components/Cars/cars-list.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,uBAA6E,eAAe,CAAC,CAAA;AAE7F,+BAA0B,6BAA6B,CAAC,CAAA;AACxD,iCAA4B,+BAA+B,CAAC,CAAA;AAC5D,4BAAuB,wBAAwB,CAAC,CAAA;AAChD,uCAAkC,wBAAwB,CAAC,CAAA;AAO3D;IAGE,YAC+B,YAAyB,EACvB,cAA6B,EACpD,cAAgC,EAChC,IAAY;QAHS,iBAAY,GAAZ,YAAY,CAAa;QACvB,mBAAc,GAAd,cAAc,CAAe;QACpD,mBAAc,GAAd,cAAc,CAAkB;QAChC,SAAI,GAAJ,IAAI,CAAQ;QANd,cAAS,GAAG,IAAI,oBAAQ,EAAE,CAAC;IAQnC,CAAC;IAEO,UAAU,CAAC,KAAe;QAChC,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;QAC/D,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACjE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,eAAe,GAAG,KAAK,CAAC;QACnD,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,GAAG,0CAAmB,CAAC;QAC3D,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;IACnC,CAAC;IAEO,OAAO;QACb,IAAI,CAAC,UAAU,CAAC,IAAI,oBAAQ,EAAE,CAAC,CAAC;IAClC,CAAC;IAEO,QAAQ,CAAC,GAAG;QAClB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAEO,UAAU,CAAC,GAAG;QACpB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,WAAW;YAC3C,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;gBACZ,IAAI,CAAC,SAAS,GAAG;oBACf,IAAI,EAAE,WAAW;oBACjB,WAAW,EAAE,IAAI;oBACjB,aAAa,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC;oBACjC,UAAU,EAAE;wBACV,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;wBACtC,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE;wBAC9C,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE;wBAC9C,EAAE,WAAW,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE;qBACrD;iBACF,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;AACH,CAAC;AAtDD;IAAC,gBAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,WAAW,EAAE,oCAAoC;KAClD,CAAC;eAMG,aAAM,CAAC,0BAAW,CAAC;eACnB,aAAM,CAAC,8BAAa,CAAC;;oBAPxB;AAEW,wBAAgB,mBAiD5B,CAAA","file":"Components/Cars/cars-list.component.js","sourcesContent":["import {Component, Inject, ComponentResolver, ViewContainerRef, NgZone} from '@angular/core';\r\nimport {ROUTER_DIRECTIVES} from \"@angular/router\";\r\nimport {CarsService} from \"../../Services/cars-service\";\r\nimport {DialogService} from \"../../Services/dialog-service\";\r\nimport {CarModal} from \"../../Modals/car-modal\";\r\nimport {CarDetailsComponent} from './car-detail.component';\r\n\r\n@Component({\r\n  selector: '[cars-list]',\r\n  templateUrl: 'Components/cars/cars-list.tpl.html'\r\n})\r\n\r\nexport class CarListComponent {\r\n  private _carModal = new CarModal();\r\n  private gvOptions: any;\r\n  constructor(\r\n    @Inject(CarsService) private _carsService: CarsService,\r\n    @Inject(DialogService) private _dialogService: DialogService,\r\n    private _viewContainer: ViewContainerRef,\r\n    private zone: NgZone\r\n  ) {\r\n  }\r\n\r\n  private _showModal(modal: CarModal) {\r\n    this._carsService.selectedCar = modal;\r\n    this._dialogService.config.viewContainer = this._viewContainer;\r\n    this._dialogService.config.classNameArray = ['ng-dialog', 'car'];\r\n    this._dialogService.config.closeByDocument = false;\r\n    this._dialogService.config.component = CarDetailsComponent;\r\n    this._dialogService.openDialog();\r\n  }\r\n\r\n  private _newCar(): void {\r\n    this._showModal(new CarModal());\r\n  }\r\n\r\n  private _editCar(evt) {\r\n    this._showModal(evt.modal);\r\n  }\r\n\r\n  private _deleteCar(evt) {\r\n    this._carsService.deleteCar(evt.modal.id);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._carsService.$cars.subscribe(updatedCars => {\r\n      this.zone.run(() => {\r\n        this.gvOptions = {\r\n          data: updatedCars,\r\n          showActions: true,\r\n          actionsToShow: ['EDIT', 'DELETE'],\r\n          columnDefs: [\r\n            { displayName: 'Id', fieldName: 'id' },\r\n            { displayName: 'Car Name', fieldName: 'name' },\r\n            { displayName: 'Car Type', fieldName: 'type' },\r\n            { displayName: 'Car Company', fieldName: 'company' }\r\n          ]\r\n        };\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n"],"sourceRoot":"/source/"}